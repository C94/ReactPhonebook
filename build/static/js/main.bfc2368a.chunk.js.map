{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/phoneService.js","App.js","index.js"],"names":["Person","person","handleDel","name","number","onClick","Filter","value","onChange","PersonForm","onSubmit","nameChange","num","numChange","type","Notification","message","styles","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNum","setNewNum","newFilter","setFilter","notif","setNotif","useEffect","phoneService","initialPeople","isFiltered","filteredList","filter","toLowerCase","includes","peopleToShow","className","event","target","preventDefault","newPerson","foundPerson","replace","txt","charAt","toUpperCase","substr","window","confirm","returnedPerson","map","catch","error","n","setTimeout","concat","i","Persons","key","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mNAgBeA,EAdA,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,UACxB,OACE,4BACE,4BAAKD,EAAOE,MACZ,4BAAKF,EAAOG,QACZ,4BACA,4BAAQC,QAASH,GAAjB,aCESI,EARA,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACvB,OACE,qCACW,2BAAOD,MAAOA,EAAOC,SAAUA,MCgB/BC,EAlBf,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,SAAUP,EAAuC,EAAvCA,KAAMQ,EAAiC,EAAjCA,WAAYC,EAAqB,EAArBA,IAAKC,EAAgB,EAAhBA,UAClC,OACE,0BAAMH,SAAUA,GACd,sCACQ,2BAAOH,MAAOJ,EACpBK,SAAUG,KAEZ,wCACU,2BAAOJ,MAAOK,EACtBJ,SAAUK,KAEZ,6BACE,4BAAQC,KAAK,UAAb,UCqBOC,EAlCM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAEtB,GAAmB,OAAfA,EAAQ,IAA8B,OAAfA,EAAQ,GAAa,OAAO,KAEvD,IAAIC,EAuBJ,OArBAA,GAAwB,IAAfD,EAAQ,GACjB,CACEE,MAAO,QACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAGhB,CACEN,MAAO,MACPC,WAAY,YACZC,SAAU,OACVC,YAAa,QACbC,aAAc,MACdC,QAAS,OACTC,aAAc,QAId,yBAAKC,MAAOR,GACTD,I,gBC7BDU,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACG,EAAIF,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAMF,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALA,SAAAG,GAEb,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC2H5BM,EAvIH,WAAO,IAAD,EAEcC,mBAAS,IAFvB,mBAETC,EAFS,KAEAC,EAFA,OAGcF,mBAAS,IAHvB,mBAGTG,EAHS,KAGAC,EAHA,OAIYJ,mBAAS,IAJrB,mBAITK,EAJS,KAIDC,EAJC,OAKeN,mBAAS,IALxB,mBAKTO,EALS,KAKEC,EALF,OAMUR,mBAAS,CAAC,KAAM,OAN1B,mBAMTS,EANS,KAMFC,EANE,KAehBC,qBAPa,WACXC,IAEGrB,MAAK,SAAAsB,GACJX,EAAWW,QAGD,IAuBhB,IAoEIC,EAA2B,KAAdP,EACbQ,EAAed,EAAQe,QAAO,SAAArD,GAAM,OACtCA,EAAOE,KAAKoD,cACTC,SAASX,EAAUU,gBAAkBtD,EAAOG,OAAOoD,SAASX,MAG3DY,EAAeL,EACjBC,EACAd,EAEJ,OACE,yBAAKmB,UAAU,OACb,yCACA,kBAAC,EAAD,CAAc1C,QAAS+B,IACvB,kBAAC,EAAD,CAAQxC,MAAOsC,EAAWrC,SA/FT,SAACmD,GACpBb,EAAUa,EAAMC,OAAOrD,UA+FrB,gDACA,kBAAC,EAAD,CAAYG,SApFE,SAACiD,GACjBA,EAAME,iBACN,IAAMC,EAAY,CAChB3D,KAAMsC,EACNrC,OAAQuC,GAEJoB,EAAcxB,EAAQe,QAAO,SAAArD,GAAM,OAAIA,EAAOE,KAAKoD,gBAAkBd,EAAQc,iBAGnF,GAFAO,EAAU3D,KAAmB2D,EAAU3D,KAf5B6D,QACT,UACA,SAAUC,GACR,OAAOA,EAAIC,OAAO,GAAGC,cAAgBF,EAAIG,OAAO,GAAGb,iBAcnDQ,EAAY,IACd,GAAIM,OAAOC,QAAP,UAAkBR,EAAU3D,KAA5B,2EAA2G,CAC7G,IAAM+B,EAAK6B,EAAY,GAAG7B,GAC1BgB,EACUhB,EAAI4B,GACXjC,MAAK,SAAA0C,GACJ/B,EAAWD,EAAQiC,KAAI,SAAAvE,GAAM,OAAIA,EAAOiC,KAAOA,EAAKjC,EAASsE,SAE9DE,OAAM,SAAAC,GACLlC,EAAWD,EAAQe,QAAO,SAAAqB,GAAC,OAAIA,EAAEzC,KAAOA,MACxCQ,EAAW,IACXE,EAAU,IACVI,EAAS,CAAC,kBAAD,OAAmBc,EAAU3D,KAA7B,8CAA8E,IACvFyE,YAAW,WACT5B,EAAS,CAAC,KAAM,SACf,QAEPA,EAAS,CAAC,wBAAD,OAAyBc,EAAU3D,OAAQ,IACpDuC,EAAW,IACXE,EAAU,IACVgC,YAAW,WACT5B,EAAS,CAAC,KAAM,SACf,UAIW,KAAZP,GAA6B,KAAXE,GACpBK,EAAS,CAAC,kCAAkC,IAC5C4B,YAAW,WACT5B,EAAS,CAAC,KAAM,SACf,OAEHE,EACUY,GACPjC,MAAK,SAAA0C,GACJ/B,EAAWD,EAAQsC,OAAON,IAC1B7B,EAAW,IACXE,EAAU,OAEdI,EAAS,CAAC,sBAAD,OAAuBc,EAAU3D,OAAQ,IAClDyE,YAAW,WACT5B,EAAS,CAAC,KAAM,SACf,OAiC4B7C,KAAMsC,EAAS9B,WAzG3B,SAACgD,GACxBjB,EAAWiB,EAAMC,OAAOrD,QAwGwDK,IAAK+B,EAAQ9B,UArGvE,SAAC8C,GACvBf,EAAUe,EAAMC,OAAOrD,UAqGrB,uCACA,+BACE,+BACGkD,EAAae,KAAI,SAACvE,EAAQ6E,GAAT,OAChB,kBAACC,EAAD,CAASC,IAAKF,EAAG7E,OAAQA,EAAQC,UAAW,kBAjCpC,SAAAgC,GAChB,IAAMjC,EAASsC,EAAQ0C,MAAK,SAAAN,GAAC,OAAIA,EAAEzC,KAAOA,KACtCmC,OAAOC,QAAP,iBAAyBrE,EAAOE,KAAhC,QACF+C,EAAoBhB,GACpBM,EAAWD,EAAQe,QAAO,SAAAqB,GAAC,OAAIA,EAAEzC,KAAOA,MACxCc,EAAS,CAAC,wBAAD,OAAyB/C,EAAOE,KAAhC,qBAAwD,IACjEyE,YAAW,WACT5B,EAAS,CAAC,KAAM,SACf,MAyBqD9C,CAAUD,EAAOiC,c,MCnI/EgD,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.bfc2368a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({ person, handleDel }) => {\r\n  return (\r\n    <tr>\r\n      <td>{person.name}</td>\r\n      <td>{person.number}</td>\r\n      <td>\r\n      <button onClick={handleDel}>\r\n        delete\r\n      </button>\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n  return (\r\n    <p>\r\n        Search <input value={value} onChange={onChange} />\r\n      </p>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = \r\n({ onSubmit, name, nameChange, num, numChange }) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        Name: <input value={name}\r\n        onChange={nameChange}/>\r\n      </div>\r\n      <div>\r\n        Number: <input value={num}\r\n        onChange={numChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n\r\n  if (message[0] === null || message[1] === null) return null\r\n  \r\n  let styles = {}\r\n  \r\n  styles = message[1] === true ?\r\n  {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n  :\r\n  {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n\r\n  return (\r\n    <div style={styles}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id  => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }\r\n","import React, { useState, useEffect } from 'react'\n\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\n\nimport phoneService from './services/phoneService'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNum, setNewNum] = useState('')\n  const [newFilter, setFilter] = useState('')\n  const [notif, setNotif] = useState([null, null])\n\n  const hook = () => {\n    phoneService\n      .getAll()\n      .then(initialPeople => {\n        setPersons(initialPeople)\n      })\n  }\n  useEffect(hook, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumChange = (event) => {\n    setNewNum(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setFilter(event.target.value)\n  }\n\n  function toTitleCase(str) {\n    return str.replace(\n      /\\w\\S*/g,\n      function (txt) {\n        return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n      }\n    )\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const newPerson = {\n      name: newName,\n      number: newNum\n    }\n    const foundPerson = persons.filter(person => person.name.toLowerCase() === newName.toLowerCase())\n    newPerson.name = toTitleCase(newPerson.name)\n\n    if (foundPerson[0]) {\n      if (window.confirm(`${newPerson.name} is already added to phonebook, replace the old number with a new one?`)) {\n        const id = foundPerson[0].id\n        phoneService\n          .update(id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n          })\n          .catch(error => {\n            setPersons(persons.filter(n => n.id !== id))\n            setNewName('')\n            setNewNum('')\n            setNotif([`Information of ${newPerson.name} has already been removed from the server`, false])\n            setTimeout(() => {\n              setNotif([null, null])\n            }, 5000)\n          })\n        setNotif([`Successfully updated ${newPerson.name}`, true])\n        setNewName('')\n        setNewNum('')\n        setTimeout(() => {\n          setNotif([null, null])\n        }, 5000)\n      }\n    }\n    else {\n      if (newName === '' || newNum === '') {\n        setNotif([`Please finish filling out form`, false])\n        setTimeout(() => {\n          setNotif([null, null])\n        }, 5000)\n      } else {\n        phoneService\n          .create(newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.concat(returnedPerson))\n            setNewName('')\n            setNewNum('')\n          })\n        setNotif([`Successfully added ${newPerson.name}`, true])\n        setTimeout(() => {\n          setNotif([null, null])\n        }, 5000)\n      }\n    }\n  }\n\n  const handleDel = id => {\n    const person = persons.find(n => n.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n      phoneService.remove(id)\n      setPersons(persons.filter(n => n.id !== id))\n      setNotif([`Successfully removed ${person.name} from the server`, true])\n      setTimeout(() => {\n        setNotif([null, null])\n      }, 5000)\n    }\n  }\n\n  let isFiltered = newFilter !== ''\n  let filteredList = persons.filter(person =>\n    person.name.toLowerCase()\n      .includes(newFilter.toLowerCase()) || person.number.includes(newFilter)\n  )\n\n  const peopleToShow = isFiltered\n    ? filteredList\n    : persons\n\n  return (\n    <div className='App'>\n      <h2>Phonebook</h2>\n      <Notification message={notif} />\n      <Filter value={newFilter} onChange={handleFilter} />\n      <h2>Add a new person</h2>\n      <PersonForm onSubmit={addPerson} name={newName} nameChange={handleNameChange} num={newNum} numChange={handleNumChange} />\n      <h2>Numbers</h2>\n      <table>\n        <tbody>\n          {peopleToShow.map((person, i) =>\n            <Persons key={i} person={person} handleDel={() => handleDel(person.id)} />\n          )}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}